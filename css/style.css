/* ==== Thème sombre gothique ==== */
*{box-sizing:border-box} html,body{margin:0;padding:0}
:root{
  --bg:#0a0a0b; --panel:#121215; --panel2:#16171a; --text:#e6e6e6;
  --muted:#a4a4a4; --border:#232327; --accent:#b33a3a; --gold:#e0b567;
}
body.bg{
  background:
    radial-gradient(1400px 700px at 50% -10%, rgba(179,58,58,.14), transparent 70%),
    radial-gradient(900px 600px at 50% 120%, rgba(224,181,103,.08), transparent 80%),
    linear-gradient(#0a0a0b,#070708);
  color:var(--text);
  font-family: system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
.topbar{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;gap:12px;padding:12px 16px;background:#0f0f10;border-bottom:1px solid var(--border)}
.topbar h1{margin:0;font-size:18px;letter-spacing:.5px}
.topbar nav a{color:var(--text);text-decoration:none;margin-left:8px;padding:6px 10px;border-radius:8px;border:1px solid transparent}
.topbar nav a.active{border-color:#2a2a2e;background:#151519}
.columns{display:grid;grid-template-columns:1.3fr .7fr;gap:16px;padding:16px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:14px;box-shadow:0 0 0 1px #0b0c0f inset, 0 8px 24px rgba(0,0,0,.25)}
#intro{text-align:center;padding:48px 16px 12px}
.introTitle{font-size:28px;margin:0 0 6px 0;text-shadow:0 0 12px rgba(179,58,58,.35)}
.introPhrase{color:var(--muted);margin:0 0 10px 0}
.grid{display:grid;gap:12px;max-width:480px;margin:0 auto}
.panel label{display:grid;gap:6px;color:var(--muted);font-size:14px}
.panel input[type="text"], .panel select{background:#0e0e10;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:10px 12px}
.btn{background:#1a1a1e;color:var(--text);border:1px solid #2a2c31;padding:8px 12px;border-radius:8px;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
.btn.primary{background:linear-gradient(180deg,#7a2323,#5a1b1b);border-color:#6a1f1f;color:#ffe}
.btn.danger{background:linear-gradient(180deg,#8b1f1f,#6d1616);border-color:#7b1919;color:#fff}
.btnRow{display:flex;gap:8px;flex-wrap:wrap}
.switch{display:flex;align-items:center;gap:6px}
.bars{display:grid;gap:8px;margin:10px 0}
.bar{position:relative;width:100%;height:18px;border-radius:8px;background:#0e0f12;border:1px solid #272a30;overflow:hidden}
.bar .bar-fill{height:100%;width:0%}
.bar.hp .bar-fill{background:linear-gradient(90deg,#8b1f1f,#b33a3a)}
.bar.mana .bar-fill{background:linear-gradient(90deg,#1b3a7a,#295bb3)}
.bar.xp .bar-fill{background:linear-gradient(90deg,#6a4bc9,#9a79ff)}
.bar .bar-text{position:absolute;left:8px;top:0;height:100%;display:flex;align-items:center;font-size:12px}
.actMap{display:flex;gap:10px;padding:12px 16px 0 16px;flex-wrap:wrap}
.actIcon{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;border:1px solid var(--border);background:#15161a;cursor:pointer}
.actIcon.unlocked{color:#ffe;box-shadow:inset 0 0 0 1px #20222a}
.actIcon.locked{color:#777;filter:saturate(.5)}
.zoneRow{display:flex;align-items:center;gap:10px;flex-wrap:wrap;background:#111216;border:1px solid #22242a;border-radius:10px;padding:8px 10px;margin:10px 0 12px}
.zoneRow select{background:#0f1012;color:var(--text);border:1px solid #2b2d31;border-radius:8px;padding:6px 8px}
.enemyCard{background:linear-gradient(180deg,#15161a,#111215);border:1px solid #2a2c31;border-radius:10px;padding:12px;margin-bottom:8px}
.enemyCard .actions{display:flex;gap:8px;margin-top:8px}
progress#eHpBar{width:100%;height:8px;appearance:none;background:#0d0e11;border:1px solid #272a30;border-radius:6px}
progress#eHpBar::-webkit-progress-bar{background:#0d0e11;border-radius:6px}
progress#eHpBar::-webkit-progress-value{background:linear-gradient(90deg,#8b1f1f,#b33a3a);border-radius:6px}
.log .logBox{max-height:60vh;overflow:auto;padding-right:6px}
.logBox{background:#101114;border:1px solid #22242a;border-radius:8px;padding:8px}
.logBox.tall{max-height:70vh}
.logBox div{padding:4px 2px;border-bottom:1px dashed #1f2024}
.footnote{text-align:center;color:var(--muted);padding:10px 16px 20px}

/* Inventaire en liste */
.equipList, .invList{display:flex;flex-direction:column;gap:6px}
.equipList > div, .invList > div{background:#131419;border:1px solid #2a2c31;border-radius:8px;padding:10px}
.equipList > div{cursor:pointer}
.statsBox{border:1px solid #2b2d31;border-radius:8px;background:#121317;padding:8px}
.table{width:100%;border-collapse:collapse;background:#121317;border:1px solid #2a2c31;border-radius:8px;overflow:hidden}
.table th,.table td{padding:10px;border-bottom:1px solid #22242a;text-align:left}

/* Runs UI */
#runsButtons.disabled .btn{opacity:.5;pointer-events:none}

/* Rareté des objets (style Diablo-like) */
.r-name { font-weight:600; }
.r-commun  { color:#dddddd; }   /* gris */
.r-magique { color:#66ccff; }   /* bleu */
.r-rare    { color:#ffff66; }   /* jaune pâle */
.r-unique  { color:#ffcc66; }   /* jaune/orange unique */
.r-set     { color:#66ff66; }   /* vert set */

.badge-ilvl{
  display:inline-block; font-size:11px; line-height:1;
  padding:2px 6px; border-radius:6px; margin-left:6px;
  background:#1a1b1f; border:1px solid #2b2d31; color:#aeb2b8;
}

@media (max-width:980px){
  .columns{grid-template-columns:1fr}
  .log .logBox{max-height:40vh}
}
